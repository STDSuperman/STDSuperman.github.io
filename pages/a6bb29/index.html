<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æ‰‹æ‹‰æ‰‹å¸¦ä½ å¼€å¯Vue3ä¸–ç•Œçš„é¬¼æ–§ç¥å·¥ | é™Œå°è·¯çš„ä¸ªäººåšå®¢</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="webå‰ç«¯æŠ€æœ¯åšå®¢,ç®€æ´è‡³ä¸Š,ä¸“æ³¨webå‰ç«¯å­¦ä¹ ä¸æ€»ç»“ã€‚JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,githubç­‰æŠ€æœ¯æ–‡ç« ã€‚">
    <meta name="keywords" content="å‰ç«¯åšå®¢,ä¸ªäººæŠ€æœ¯åšå®¢,å‰ç«¯,å‰ç«¯å¼€å‘,å‰ç«¯æ¡†æ¶,webå‰ç«¯,å‰ç«¯é¢è¯•é¢˜,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,é¢è¯•,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="preload" href="/assets/css/0.styles.402ab3ae.css" as="style"><link rel="preload" href="/assets/js/app.e2bd221e.js" as="script"><link rel="preload" href="/assets/js/2.5f85e95c.js" as="script"><link rel="preload" href="/assets/js/11.f913294b.js" as="script"><link rel="prefetch" href="/assets/js/10.0326f467.js"><link rel="prefetch" href="/assets/js/12.9d2d4508.js"><link rel="prefetch" href="/assets/js/13.c115d7bd.js"><link rel="prefetch" href="/assets/js/14.4d7d73b3.js"><link rel="prefetch" href="/assets/js/15.68772e69.js"><link rel="prefetch" href="/assets/js/16.386a8dda.js"><link rel="prefetch" href="/assets/js/17.b1a81afa.js"><link rel="prefetch" href="/assets/js/18.4e30b8d6.js"><link rel="prefetch" href="/assets/js/19.2703deb8.js"><link rel="prefetch" href="/assets/js/20.26120335.js"><link rel="prefetch" href="/assets/js/21.e16223dd.js"><link rel="prefetch" href="/assets/js/22.18b1493f.js"><link rel="prefetch" href="/assets/js/23.9cab7de7.js"><link rel="prefetch" href="/assets/js/24.9fd56b23.js"><link rel="prefetch" href="/assets/js/25.7d236416.js"><link rel="prefetch" href="/assets/js/26.8d412e4b.js"><link rel="prefetch" href="/assets/js/27.7bd4f864.js"><link rel="prefetch" href="/assets/js/28.87fdb715.js"><link rel="prefetch" href="/assets/js/29.570bdf44.js"><link rel="prefetch" href="/assets/js/3.3996bf02.js"><link rel="prefetch" href="/assets/js/30.324539c3.js"><link rel="prefetch" href="/assets/js/31.98dd934c.js"><link rel="prefetch" href="/assets/js/32.378b8efc.js"><link rel="prefetch" href="/assets/js/33.aba4a484.js"><link rel="prefetch" href="/assets/js/34.329d9d05.js"><link rel="prefetch" href="/assets/js/35.14ac2941.js"><link rel="prefetch" href="/assets/js/36.c0b83b2b.js"><link rel="prefetch" href="/assets/js/37.026fdb82.js"><link rel="prefetch" href="/assets/js/38.9fb0c10b.js"><link rel="prefetch" href="/assets/js/39.e1debc1e.js"><link rel="prefetch" href="/assets/js/4.7ff61bea.js"><link rel="prefetch" href="/assets/js/40.1ec82c2d.js"><link rel="prefetch" href="/assets/js/41.81eb4dd6.js"><link rel="prefetch" href="/assets/js/42.19ad8f59.js"><link rel="prefetch" href="/assets/js/43.0b2a67ef.js"><link rel="prefetch" href="/assets/js/44.14215949.js"><link rel="prefetch" href="/assets/js/45.0eff0c55.js"><link rel="prefetch" href="/assets/js/46.ce37d33f.js"><link rel="prefetch" href="/assets/js/47.7c75fade.js"><link rel="prefetch" href="/assets/js/48.e14f70e4.js"><link rel="prefetch" href="/assets/js/49.376acd3b.js"><link rel="prefetch" href="/assets/js/5.227d058b.js"><link rel="prefetch" href="/assets/js/50.88da43d8.js"><link rel="prefetch" href="/assets/js/51.245736d8.js"><link rel="prefetch" href="/assets/js/52.c976f79d.js"><link rel="prefetch" href="/assets/js/53.ef61f7e8.js"><link rel="prefetch" href="/assets/js/54.f5ce08ce.js"><link rel="prefetch" href="/assets/js/55.f6f8f9a3.js"><link rel="prefetch" href="/assets/js/56.aeb8f7b1.js"><link rel="prefetch" href="/assets/js/57.ab0efa22.js"><link rel="prefetch" href="/assets/js/58.ace937be.js"><link rel="prefetch" href="/assets/js/59.b7f6c565.js"><link rel="prefetch" href="/assets/js/6.c9b62030.js"><link rel="prefetch" href="/assets/js/7.4c362622.js"><link rel="prefetch" href="/assets/js/8.23a7fb78.js"><link rel="prefetch" href="/assets/js/9.cfc836fe.js">
    <link rel="stylesheet" href="/assets/css/0.styles.402ab3ae.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/favicon.ico" alt="é™Œå°è·¯çš„ä¸ªäººåšå®¢" class="logo"> <span class="site-name can-hide">é™Œå°è·¯çš„ä¸ªäººåšå®¢</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æŠ€æœ¯" class="dropdown-title"><a href="/pages/7b1e86/" class="link-title">æŠ€æœ¯</a> <span class="title" style="display:none;">æŠ€æœ¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>æŠ€æœ¯ä¸“åŒº</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7b1e86/" class="nav-link">é¢è¯•</a></li><li class="dropdown-subitem"><a href="/pages/cae655/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/pages/7d9966/" class="nav-link">Electron</a></li><li class="dropdown-subitem"><a href="/pages/8cab7b/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/pages/b0e98d/" class="nav-link">Serverless</a></li><li class="dropdown-subitem"><a href="/pages/dcc257/" class="nav-link">GraphQL</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ—¶å…‰æ¼«è°ˆ" class="dropdown-title"><a href="/pages/4f099a/" class="link-title">æ—¶å…‰æ¼«è°ˆ</a> <span class="title" style="display:none;">æ—¶å…‰æ¼«è°ˆ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4f099a/" class="nav-link">æˆ‘çš„ç§‹æ‹›ä¹‹æ—…</a></li><li class="dropdown-item"><!----> <a href="/pages/50b2d2/" class="nav-link">2019å¹´ç»ˆæ€»ç»“</a></li></ul></div></div><div class="nav-item"><a href="/todo/" class="nav-link">ä»£åŠè®¡åˆ’</a></div><div class="nav-item"><a href="/bookmark/" class="nav-link">æ”¶è—å¤¹</a></div><div class="nav-item"><a href="/about/" class="nav-link">å…³äº</a></div> <a href="https://github.com/STDSuperman/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://p.qqan.com/up/2019-9/15693062144024091.jpg"> <div class="blogger-info"><h3>é™Œå°è·¯</h3> <span>å‰ç«¯åˆ‡å›¾ä»”</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æŠ€æœ¯" class="dropdown-title"><a href="/pages/7b1e86/" class="link-title">æŠ€æœ¯</a> <span class="title" style="display:none;">æŠ€æœ¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>æŠ€æœ¯ä¸“åŒº</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7b1e86/" class="nav-link">é¢è¯•</a></li><li class="dropdown-subitem"><a href="/pages/cae655/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/pages/7d9966/" class="nav-link">Electron</a></li><li class="dropdown-subitem"><a href="/pages/8cab7b/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/pages/b0e98d/" class="nav-link">Serverless</a></li><li class="dropdown-subitem"><a href="/pages/dcc257/" class="nav-link">GraphQL</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ—¶å…‰æ¼«è°ˆ" class="dropdown-title"><a href="/pages/4f099a/" class="link-title">æ—¶å…‰æ¼«è°ˆ</a> <span class="title" style="display:none;">æ—¶å…‰æ¼«è°ˆ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4f099a/" class="nav-link">æˆ‘çš„ç§‹æ‹›ä¹‹æ—…</a></li><li class="dropdown-item"><!----> <a href="/pages/50b2d2/" class="nav-link">2019å¹´ç»ˆæ€»ç»“</a></li></ul></div></div><div class="nav-item"><a href="/todo/" class="nav-link">ä»£åŠè®¡åˆ’</a></div><div class="nav-item"><a href="/bookmark/" class="nav-link">æ”¶è—å¤¹</a></div><div class="nav-item"><a href="/about/" class="nav-link">å…³äº</a></div> <a href="https://github.com/STDSuperman/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/a6bb29/" class="active sidebar-link">Vue3-beta-åˆä½“éªŒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/a6bb29/#å‰è¨€" class="sidebar-link">å‰è¨€</a></li><li class="sidebar-sub-header"><a href="/pages/a6bb29/#å¼€å§‹" class="sidebar-link">å¼€å§‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/a6bb29/#ç¯å¢ƒæ­å»º" class="sidebar-link">ç¯å¢ƒæ­å»º</a></li><li class="sidebar-sub-header"><a href="/pages/a6bb29/#é…ç½®è·¯ç”±" class="sidebar-link">é…ç½®è·¯ç”±</a></li><li class="sidebar-sub-header"><a href="/pages/a6bb29/#åŸºç¡€è¯­æ³•åˆæ¢" class="sidebar-link">åŸºç¡€è¯­æ³•åˆæ¢</a></li><li class="sidebar-sub-header"><a href="/pages/a6bb29/#reactive" class="sidebar-link">reactive</a></li><li class="sidebar-sub-header"><a href="/pages/a6bb29/#ref" class="sidebar-link">ref</a></li><li class="sidebar-sub-header"><a href="/pages/a6bb29/#computed" class="sidebar-link">computed</a></li><li class="sidebar-sub-header"><a href="/pages/a6bb29/#readonly" class="sidebar-link">readonly</a></li><li class="sidebar-sub-header"><a href="/pages/a6bb29/#watcheffect" class="sidebar-link">watchEffect</a></li><li class="sidebar-sub-header"><a href="/pages/a6bb29/#ç”Ÿå‘½å‘¨æœŸå‡½æ•°" class="sidebar-link">ç”Ÿå‘½å‘¨æœŸå‡½æ•°</a></li><li class="sidebar-sub-header"><a href="/pages/a6bb29/#æ¨¡æ¿å¼•ç”¨" class="sidebar-link">æ¨¡æ¿å¼•ç”¨</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/a6bb29/#ç»“å°¾" class="sidebar-link">ç»“å°¾</a></li></ul></li><li><a href="/pages/cae655/" class="sidebar-link">Vue-nextTickæºç åˆ†æ</a></li><li><a href="/pages/b21f67/" class="sidebar-link">Vuex-æºç åˆ†æ01</a></li><li><a href="/pages/4dd347/" class="sidebar-link">Vuex-æºç åˆ†æ02</a></li><li><a href="/pages/b632f1/" class="sidebar-link">Viteæºç åˆ†æ</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>VueæœåŠ¡ç«¯æ¸²æŸ“</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>é¢è¯•</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Electron</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Serverless</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GraphQL</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Svelte</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>RxJS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nestjs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å…¶ä»–</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"> <div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-f945b7fe><div class="articleInfo" data-v-f945b7fe><ul class="breadcrumbs" data-v-f945b7fe><li data-v-f945b7fe><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-f945b7fe></a></li> <li data-v-f945b7fe><a href="/categories/?category=technology" title="åˆ†ç±»" data-v-f945b7fe>technology</a></li> <li data-v-f945b7fe><a href="/categories/?category=Vue" title="åˆ†ç±»" data-v-f945b7fe>Vue</a></li></ul> <div class="info" data-v-f945b7fe><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-f945b7fe><a href="https://github.com/STDSuperman" target="_blank" title="ä½œè€…" class="beLink" data-v-f945b7fe>é™Œå°è·¯</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-f945b7fe><a href="javascript:;" data-v-f945b7fe>2020-05-13</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">
          æ‰‹æ‹‰æ‰‹å¸¦ä½ å¼€å¯Vue3ä¸–ç•Œçš„é¬¼æ–§ç¥å·¥
        </h1> <div class="theme-vdoing-content content__default"><p><img src="https://my-blog-1257398419.cos.ap-chengdu.myqcloud.com/blog/8.jpg" alt=""></p> <h2 id="å‰è¨€"><a href="#å‰è¨€" class="header-anchor">#</a> å‰è¨€</h2> <p>2020æ³¨å®šæ˜¯ä¸å¹³å‡¡çš„ä¸€å¹´ï¼Œæ— è®ºæ˜¯ç–«æƒ…çš„æ¨ªç©ºå‡ºä¸–ï¼Œè¿˜æ˜¯ä¸–ç•Œå±€åŠ¿çš„æ¿€çƒˆåŠ¨è¡ï¼ŒæŠ‘æˆ–æ˜¯è‚¡å¸‚çš„è·Œå®•èµ·ä¼ï¼Œæˆ‘ç›¸ä¿¡å¾ˆå¤šå›½äººéƒ½ä¼šæœ‰ä¸€ç§åº†å¹¸æˆ‘æ˜¯ä¸­å›½äººçš„æ·±åˆ»æ„Ÿæ‚Ÿã€‚ä½œä¸ºä¸€åæŠ€æœ¯å®…ï¼Œé™¤äº†ç–«æƒ…ï¼Œæ›´å¤šçš„è¿˜æ˜¯é›¨å¥³æ— ç“œï¼Œéšç€<code>Vue3.0 Beta</code>çš„æ¨å‡ºï¼Œå¤§å®¶éƒ½äº‰å…ˆæåçš„å°äº†é²œï¼Œç¬”è€…ä¹Ÿä¸ä¾‹å¤–ï¼Œç»è¿‡ä¸€ç•ªç ”ç©¶ï¼Œè§‰å¾—<code>Vue3</code>ä¹Ÿçš„ç¡®å­˜åœ¨å®ƒç‹¬ç‰¹çš„é­…åŠ›ï¼Œä¹Ÿåº”è¯¥å†™ä¸€ç¯‡åšå®¢æ–¹ä¾¿è¿˜æ²¡æœ‰ä½“éªŒçš„æœ‹å‹èƒ½å¤Ÿå¿«é€Ÿå¯¹å…¶æœ‰ä¸€ä¸ªå¤§ä½“çš„è®¤çŸ¥ã€‚</p> <h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="header-anchor">#</a> å¼€å§‹</h2> <blockquote><p>æ­¤æ–‡é»˜è®¤ä½ å·²ç†Ÿæ‚‰<code>Vue2.x</code>ç›¸å…³çŸ¥è¯†</p></blockquote> <h3 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="header-anchor">#</a> ç¯å¢ƒæ­å»º</h3> <p>ç›¸å…³åº“ç‰ˆæœ¬</p> <ul><li><code>Vue-Cli 4.x</code></li> <li><code>Vue 3.0.0-beta.1</code></li> <li><code>Vue-Router 4.0.0-alpha.7</code></li></ul> <p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p> <ol><li>ä½¿ç”¨<code>VueCli</code>åˆ›å»ºä¸€ä¸ª<code>Vue</code>åŸºç¡€é¡¹ç›®ï¼š<code>vue create project</code></li> <li>åœ¨é¡¹ç›®ä¸­ï¼Œæ‰§è¡Œå‡çº§å‘½ä»¤ï¼š<code>vue add vue-next</code></li></ol> <p>é¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p> <p><img src="https://my-blog-1257398419.cos.ap-chengdu.myqcloud.com/blog/9.jpg" alt=""></p> <blockquote><p>è¿›è¡Œå®Œä»¥ä¸Šæ“ä½œæ— è¯¯ä¹‹ååŸºæœ¬ç¯å¢ƒå°±å·²ç»æ­å»ºå®Œæ¯•ã€‚</p></blockquote> <h3 id="é…ç½®è·¯ç”±"><a href="#é…ç½®è·¯ç”±" class="header-anchor">#</a> é…ç½®è·¯ç”±</h3> <ul><li>é¡¹ç›®ä¸­æ‰§è¡Œ<code>npm install vue-router@4.0.0-alpha.7 -S</code></li></ul> <p>æŒ‰ç…§ä¸€èˆ¬è§„èŒƒï¼Œåœ¨<code>src</code>ç›®å½•ä¸‹æ–°å»º<code>router</code>æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨<code>router</code>æ–‡ä»¶å¤¹ä¸­æ–°å»º<code>index.js</code>æ–‡ä»¶ã€‚</p> <p>index.jså†…å®¹:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHashHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../components/home'</span>

<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span> redirect<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> Home<span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    history<span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    routes
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>åŸºæœ¬çš„è·¯ç”±é…ç½®æ²¡æœ‰å¤ªå¤§æ”¹å˜ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä½ åªéœ€è¦å…³æ³¨<code>routes</code>ä¸­è·¯ç”±è§„åˆ™ç¼–å†™ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code>main.js</code>ä¸­æ¥å…¥<code>router</code>ã€‚</p> <p>main.js:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ä¸åŒäºæˆ‘ä»¬ä¹‹å‰é‡‡ç”¨<code>new Vue()</code>åˆ›å»ºå®ä¾‹çš„æ–¹å¼ï¼Œ<code>Vue3</code>åœ¨è¿™é‡Œè¿›è¡Œäº†æ”¹å˜ï¼›ä¸ä»…å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œå®‰è£…è·¯ç”±çš„æ–¹å¼ä¹Ÿç”±ä¹‹å‰çš„<code>Vue.use(Router)</code>å˜æˆå¦‚ä¸Šæ–¹å¼ï¼ŒåŒç†å¯¹äº<code>Vuex</code>çš„æ¥å…¥ä¹Ÿæ˜¯å¤§åŒå°å¼‚ï¼Œç¬”è€…è¿™é‡Œå°±ä¸è¿‡å¤šèµ˜è¿°äº†ã€‚</p> <p>App.js</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="åŸºç¡€è¯­æ³•åˆæ¢"><a href="#åŸºç¡€è¯­æ³•åˆæ¢" class="header-anchor">#</a> åŸºç¡€è¯­æ³•åˆæ¢</h3> <h4 id="setup"><a href="#setup" class="header-anchor">#</a> setup</h4> <blockquote><p>setupåŠŸèƒ½æ˜¯æ–°çš„ç»„ä»¶é€‰é¡¹ï¼Œå®ƒå……å½“åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨Composition APIï¼ˆæ–°ç‰¹æ€§ï¼‰çš„å…¥å£ç‚¹ï¼›åˆ›å»ºç»„ä»¶å®ä¾‹æ—¶ï¼Œåœ¨åˆå§‹é“å…·è§£æåç«‹å³è°ƒç”¨ã€‚åœ¨ç”Ÿå‘½å‘¨æœŸæ–¹é¢ï¼Œå®ƒåœ¨beforeCreateæŒ‚æ¥ä¹‹å‰è¢«è°ƒç”¨ã€‚</p></blockquote> <p>ä¸€èˆ¬æ¥è¯´ï¼ŒæŒ‰ç…§æˆ‘ä»¬ä¹‹å‰å¸¸è§„çš„å†™æ³•ï¼Œæˆ‘ä»¬åœ¨å¯¹éœ€è¦ä½¿ç”¨å˜é‡ã€è®¡ç®—å±æ€§çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šä¹ æƒ¯æ€§çš„å†™ä¸Šï¼š</p> <p>home/index.vue</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">'home'</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>foo<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            count<span class="token operator">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    computed<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>ä¸¤è€…æ˜¯éœ€è¦è¢«åˆ†ç±»åˆ°å„è‡ªçš„å¯¹è±¡ä¸­ï¼Œåœ¨åŒç­‰åŠŸèƒ½å®ç°ä¸Šæ¥è¯´ï¼Œ<code>Vue3</code>çš„å®ç°å¦‚ä¸‹:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">'home'</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>foo<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> count<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            count<span class="token punctuation">,</span>
            foo
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><blockquote><p>çœ‹åˆ°è¿™ç§è¯­æ³•ä½ æ˜¯ä¸æ˜¯æ‡µäº†ï¼Œä¸ç”¨æ…Œï¼Œè¿™éƒ¨åˆ†ç€é‡ä»‹ç»<code>setup</code>è¿™ä¸ªå…¥å£å‡½æ•°ï¼Œå…·ä½“å†…éƒ¨è¯­æ³•å¯ä»¥å…ˆä¸ç”¨åœ¨æ„ï¼Œåé¢éƒ½ä¼šè¿›è¡Œå¯¹åº”æ€§ä¸€ä¸€è®²è§£ã€‚</p></blockquote> <p><code>setup</code>æ¥æ”¶ä¸¤ä¸ªé‡è¦å‚æ•°ï¼š</p> <ul><li>propsï¼šè¿™ä¸ªè‡ªç„¶ä¸ç”¨å¤šæäº†ï¼Œç­‰åŒäº<code>vue2</code>çš„<code>props</code>ï¼Œåœ¨è¿™ä¸ªåœ°æ–¹æˆ‘ä»¬éœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼Œæˆ‘ä»¬ä¸èƒ½å¯¹è¿™ä¸ªå‚æ•°è¿›è¡Œè§£æ„ï¼Œå¦‚æœä½¿ç”¨è§£æ„ä¼šä½¿ä»–å¤±å»å“åº”æ€§ã€‚ä¾‹å¦‚ä¸‹é¢ä»£ç å°±ä¼šè®©<code>props</code>ä¼ è¿‡æ¥çš„å€¼å¤±å»å“åº”æ€§ï¼š</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> String
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">name is: </span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span> name<span class="token punctuation">)</span> <span class="token comment">// å¤±å»å“åº”æ€§!</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>contextï¼šå…¶å®è¿™ä¸ªå‚æ•°æˆ‘ä»¬ä¹Ÿæ˜¯æ¯”è¾ƒç†Ÿæ‚‰çš„ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å…¬å¼€äº†å…ˆå‰thisåœ¨2.x APIä¸­å…¬å¼€çš„å±æ€§çš„é€‰æ‹©æ€§åˆ—è¡¨ï¼Œå®ƒä»…åŒ…å«ä¸‰ä¸ªå±æ€§ï¼ˆ<code>attrs</code>ã€<code>slots</code>ã€<code>emit</code>ï¼‰ï¼Œä¸¾ä¸ªæ —å­ï¼š</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    context<span class="token punctuation">.</span>attrs <span class="token comment">// 2.xï¼šthis.attrs</span>
    context<span class="token punctuation">.</span>slots <span class="token comment">// 2.xï¼šthis.slots</span>
    context<span class="token punctuation">.</span>emit <span class="token comment">// 2.xï¼šthis.emit</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>çœ‹å®Œä»£ç ï¼Œæˆ‘ä»¬åŸºæœ¬å¯ä»¥ç†è§£ä¸º<code>setup</code>å‡½æ•°å°±æ˜¯æˆ‘ä»¬æ•´ä¸ªç»„ä»¶å„é¡¹é€»è¾‘å…³ç³»ä»¥åŠæ“ä½œçš„å…¥å£äº†ï¼Œåœ¨<code>Vue3</code>ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸åŒ<code>api</code>çš„æ–¹å¼éƒ½æ˜¯é‡‡ç”¨å¯¼å…¥çš„å½¢å¼ï¼Œè¿™å°±ç›¸å½“äºæˆ‘ä»¬æœ‰äº†æ›´å¤§çš„æ“ä½œç©ºé—´ï¼Œæœ‰äº†æ›´å¤§çš„è‡ªç”±æ€§ã€‚</p> <p>è™½ç„¶è¯´<code>Vue3</code>å‘ä¸‹å…¼å®¹<code>Vue2</code>ï¼Œä½†æ˜¯è¿™é‡Œå…¶å®æˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡é¿å…2.xå’Œ<code>setup</code>å‡½æ•°çš„æ··ç”¨ï¼Œè¿™å°†ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ã€‚</p> <h3 id="reactive"><a href="#reactive" class="header-anchor">#</a> reactive</h3> <blockquote><p>å–å¾—ä¸€ä¸ªå¯¹è±¡å¹¶è¿”å›åŸå§‹å¯¹è±¡çš„ååº”å¼ä»£ç†ã€‚è¿™ç­‰æ•ˆäº2.xçš„<code>Vue.observable()</code>ã€‚</p></blockquote> <p>å¯¹è¿™ä¸ª<code>api</code>ç”¨æ³•ï¼Œç¬”è€…ç”¨ä»£ç è®²è§£ä¼šæ¯”è¾ƒå¥½ç†è§£ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">'home'</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'æµæ˜Ÿå•Š'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
        obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'bilibili'</span><span class="token punctuation">;</span> <span class="token comment">// ä¿®æ”¹å±æ€§å€¼</span>
        <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>ç›¸ä¿¡å¤§å®¶å·²ç»çœ‹å‡ºæ¥ç«¯å€ªï¼Œæ²¡é”™ï¼Œè¿™ä¸ª<code>api</code>å°±æ˜¯å•çº¯çš„æŠŠä¸€ä¸ªå¯¹è±¡å˜å¾—å¯å“åº”ã€‚</p> <h3 id="ref"><a href="#ref" class="header-anchor">#</a> ref</h3> <blockquote><p>æ¥å—ä¸€ä¸ªå†…éƒ¨å€¼å¹¶è¿”å›ä¸€ä¸ªååº”æ€§ä¸”å¯å˜çš„refå¯¹è±¡ã€‚refå¯¹è±¡å…·æœ‰.valueæŒ‡å‘å†…éƒ¨å€¼çš„å•ä¸ªå±æ€§ã€‚</p></blockquote> <blockquote><p>åœ¨è¿™é‡Œæˆ‘ä¼°è®¡æœ‰å°ä¼™ä¼´å°±è¦é—®äº†ï¼Œè¿™ä¸å°±æ˜¯2.xé‡Œçš„refå—ï¼Œä¸ä¸ä¸ï¼Œåœ¨3.xå®ƒè·Ÿé‚£ä¸ªç§åœ¨æ ‡ç­¾ä¸Šçš„<code>ref</code>æ²¡æœ‰åŠç‚¹å…³ç³»ï¼Œä¹Ÿå’Œ<code>$refs</code>æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œå¯¹äºæ–°çš„ç±»ä¼¼äº2.xçš„è·å–<code>dom</code>çš„æ–¹å¼è¯·çœ‹æ¨¡æ¿å¼•ç”¨éƒ¨åˆ†ã€‚</p></blockquote> <p>åŒæ ·ï¼Œä¸¾ä¸ªæ —å­ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">'home'</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        count<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// æœ‰ç–‘é—®çš„å¾€ä¸‹çœ‹ç¬”è€…ä»‹ç»</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            count
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>è¿™é‡Œä¹Ÿæœ‰ä¸€ä¸ªæ³¨æ„ç‚¹ï¼Œä½ å¦‚æœæƒ³è¦ä¿®æ”¹ä½¿ç”¨refæ„é€ å‡ºæ¥çš„å˜é‡ï¼Œåªèƒ½å¯¹<code>xxx.value</code>è¿›è¡Œä¿®æ”¹ï¼ŒåŒç†ä½ æƒ³è¦åœ¨<code>js</code>ä¸­è®¿é—®å®ƒçš„å€¼å¿…é¡»ä½¿ç”¨<code>xxx.value</code>ï¼Œç›´æ¥å¯¹countè¿›è¡Œèµ‹å€¼å¦‚<code>count++</code>ï¼Œè¿™ç§å†™æ³•ä¼šæŠ¥é”™ã€‚</p> <p>åœ¨è¿™é‡Œä¼°è®¡åˆæœ‰å°ä¼™ä¼´è¦é—®äº†ï¼Œé‚£ä¸ºå•¥åœ¨<code>template</code>æ¨¡æ¿ä¸­ä½¿ç”¨<code></code>è®¿é—®çš„æ—¶å€™ä¸ç”¨åŠ <code>.value</code>ï¼Œè¿™é‡Œå…¶å®ä½ åœ¨ä½¿ç”¨æ’å€¼è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œå®ƒå†…éƒ¨ä¼šè‡ªåŠ¨å±•å¼€ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥ç”¨å°±è¡Œäº†ã€‚</p> <p>å¦‚æœè¯´æˆ‘ä»¬æŠŠ<code>reactive</code>å’Œ<code>ref</code>ç»“åˆèµ·æ¥ç”¨ä¼šæœ‰æ€æ ·çš„å¥‡æ·«å·§è®¡å‘¢ğŸ˜±ï¼Œç»§ç»­ä¸¾ä¸ªæ —å­ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  count
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 0</span>

state<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 1</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>å½“refè¢«è®¿é—®æˆ–ä½œä¸ºååº”å¯¹è±¡çš„å±æ€§è¿›è¡Œæ›´æ”¹æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å±•å¼€ä¸ºå†…éƒ¨å€¼ï¼Œå› æ­¤å…¶è¡Œä¸ºç±»ä¼¼äºæ™®é€šå±æ€§ã€‚</p> <h3 id="computed"><a href="#computed" class="header-anchor">#</a> computed</h3> <p>è¿™ä¸ª<code>api</code>ä¹Ÿç±»ä¼¼2.xï¼Œå¯ä»¥ä½¿ç”¨<code>getter</code>ã€<code>setter</code>ï¼Œè¯ä¸å¤šè¯´ï¼Œä¸Šä»£ç ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> plusOne <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> count<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>plusOne<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 2</span>

plusOne<span class="token punctuation">.</span>value<span class="token operator">++</span> <span class="token comment">// æ— æ•ˆ</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>åœ¨è¿™é‡Œæˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œå®ƒçš„è®¿é—®æ–¹å¼ä¹Ÿç­‰åŒäº<code>ref</code>ï¼Œä¹Ÿæ˜¯éœ€è¦é‡‡ç”¨<code>xxx.value</code>ï¼Œä¸æ­¤åŒæ—¶å‘¢ï¼Œå¦‚æœä½ æƒ³è¦ä¿®æ”¹ä¸€ä¸ªè®¡ç®—å±æ€§çš„å€¼ï¼Œä½ å¿…é¡»ä¸ºä»–è®¾ç½®<code>setter</code>ï¼Œå¹¶å¯¹ç›¸åº”çš„ä¾èµ–è¿›è¡Œä¿®æ”¹ã€‚åºŸè¯å°‘è¯´ï¼Œçœ‹ç ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> plusOne <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> count<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token parameter">val</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">.</span>value <span class="token operator">=</span> val <span class="token operator">-</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

plusOne<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 0</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="readonly"><a href="#readonly" class="header-anchor">#</a> readonly</h3> <p>æ„å¦‚å…¶åï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æ„é€ ä¸€ä¸ªåªèƒ½è®¿é—®çš„å±æ€§ï¼Œè¿™ä¸ªç©æ„å®ƒé’ˆå¯¹çš„å¾ˆå¼ºï¼Œä¹Ÿå°±æ˜¯æ— è®ºä½ è¿™ä¸ªå¯¹è±¡åµŒå¥—æœ‰å¤šæ·±ï¼Œè¢«ä»–åŒ…è£…åçš„å¯¹è±¡ä¸€å®šæ˜¯åªèƒ½è¯»ï¼Œå…¶å®å°±æ˜¯ç›¸å½“äºä¸€ä¸ªä»£ç†ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> re <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>count<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> readonlyRe <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span>
readonlyRe<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// æ— æ•ˆï¼Œå¹¶ä¸”ä¼šç»™å‡ºè­¦å‘Š</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="watcheffect"><a href="#watcheffect" class="header-anchor">#</a> watchEffect</h3> <p>å¯¹äºè¿™ä¸ªå±æ€§å‘¢ï¼Œä½ å¯ä»¥æ‹¿å®ƒè·Ÿ2.xçš„<code>watch</code>å¯¹è±¡ç›¸æ¯”è¾ƒäº†ï¼Œæ²¡é”™ä»–å°±æ˜¯æ¥ç›‘å¬çš„ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// -&gt; æ‰“å° 0</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  count<span class="token punctuation">.</span>value<span class="token operator">++</span>
  <span class="token comment">// -&gt; æ‰“å° 1</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>æ€»è€Œè¨€ä¹‹ï¼Œä»–ä¼šæ”¶é›†ä¼ å…¥å‡½æ•°çš„ä¾èµ–ï¼Œä¸€æ—¦ä¾èµ–å‘ç”Ÿå‘ç”Ÿæ”¹å˜ï¼Œä»–å°±ä¼šé‡æ–°è°ƒç”¨ä½ ä¼ è¿›æ¥çš„å‡½æ•°ï¼Œç”¨è¿‡<code>react hooks</code>çš„ç«¥é´å¯èƒ½ä¼šè¯´ï¼Œè¿™ç©æ„æ€ä¹ˆè¿™ä¹ˆåƒ<code>useEffect</code>ï¼Œå…¶å®<code>Vue3</code>ä¹Ÿçš„ç¡®å€Ÿé‰´äº†<code>react</code>ä¸€äº›ä¸é”™çš„è®¾è®¡ï¼Œæ‰€ä»¥ï¼Œå¤§å®¶ä¹Ÿä¸è¦è§‰å¾—æŠ„è¢­ä¸æŠ„è¢­çš„ï¼Œæ¡†æ¶ç»ˆç©¶æ˜¯ä¸ºç”¨æˆ·æœåŠ¡ï¼Œå¥½çš„è®¾è®¡è‡ªç„¶åº”è¯¥å€¼å¾—å€Ÿé‰´ï¼Œå°±åƒ<code>react</code>ä¹Ÿæœ‰å€Ÿé‰´<code>Vue</code>çš„ä¸€äº›ä¼˜ç‚¹å¯¹è‡ªèº«è¿›è¡Œä¼˜åŒ–ã€‚</p> <p>æ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­åˆ¨æè¿™ä¸ª<code>api</code>ã€‚è°ƒç”¨è¿™ä¸ª<code>api</code>çš„åŒæ—¶ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªç”¨äºæš‚åœå¥æŸ„çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾å¼è°ƒç”¨å®ƒç”¨äºçš„åœæ­¢å½“å‰ç›‘å¬ï¼Œå¹¶ä¸”å¯¹äºä¼ å…¥ç»™<code>watchEffect</code>çš„å›è°ƒå‡½æ•°ï¼Œè¿™ä¸ª<code>api</code>åœ¨è§¦å‘è°ƒç”¨çš„æ—¶å€™ä¼šä¼ å…¥ä¸€ä¸ªç”¨äºæ³¨å†Œæ— æ•ˆå›è°ƒçš„å‡½æ•°<code>onInvalidate</code>ã€‚å…·ä½“ä¾‹å­å¦‚ä¸‹ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> stop <span class="token operator">=</span> <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token parameter">onInvalidate</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">performAsyncOperation</span><span class="token punctuation">(</span>id<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰§è¡Œä¸€ä¸ªå¼‚æ­¥æ“ä½œ</span>
  <span class="token function">onInvalidate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¾èµ–çš„idå‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯å¼‚æ­¥æ“ä½œè¿˜æœªå®Œæˆï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨è¿™é‡Œåœæ­¢ä½ çš„å¼‚æ­¥æ“ä½œã€‚</span>
    token<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™é‡Œæˆ‘ä»¬å‡è®¾ä½ çš„å¼‚æ­¥æ“ä½œè¿”å›äº†ä¸€ä¸ªåŒ…å«å–æ¶ˆæ“ä½œçš„æ–¹æ³•ã€‚</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•å»åœæ­¢å®ƒ</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>å¦‚æœæˆ‘ä»¬æ³¨å†Œäº†æ— æ•ˆå›è°ƒæ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªä¾èµ–å·²ç»å˜åŒ–ä½†æ˜¯å¼‚æ­¥è¯·æ±‚è¿˜æœªå®Œæˆçš„æ—¶å€™ï¼Œå®ƒå†…éƒ¨å°±ä¼šå¸®æˆ‘ä»¬è°ƒç”¨æˆ‘ä»¬æ³¨å†Œçš„æ— æ•ˆå›è°ƒã€‚</p> <h3 id="ç”Ÿå‘½å‘¨æœŸå‡½æ•°"><a href="#ç”Ÿå‘½å‘¨æœŸå‡½æ•°" class="header-anchor">#</a> ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h3> <p>è¿™é‡Œç»™ä¸€ä¸ªä¸2.xçš„å¯¹æ¯”ï¼š</p> <ul><li><code>beforeCreate (vue3å¼ƒç”¨) -&gt; ä½¿ç”¨ setup()</code></li> <li><code>created (vue3å¼ƒç”¨) -&gt; ä½¿ç”¨ setup()</code></li> <li><code>beforeMount -&gt; onBeforeMount</code></li> <li><code>mounted -&gt; onMounted</code></li> <li><code>beforeUpdate -&gt; onBeforeUpdate</code></li> <li><code>updated -&gt; onUpdated</code></li> <li><code>beforeDestroy -&gt; onBeforeUnmount</code></li> <li><code>destroyed -&gt; onUnmounted</code></li> <li><code>errorCaptured -&gt; onErrorCaptured</code></li></ul> <p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted<span class="token punctuation">,</span> onUpdated<span class="token punctuation">,</span> onUnmounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> MyComponent <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'mounted!'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onUpdated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'updated!'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'unmounted!'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="æ¨¡æ¿å¼•ç”¨"><a href="#æ¨¡æ¿å¼•ç”¨" class="header-anchor">#</a> æ¨¡æ¿å¼•ç”¨</h3> <p>åœ¨çœ‹å®Œå‰é¢<code>ref</code>è¿™ä¸ªapiçš„ä»‹ç»ä¹‹åï¼Œå¾ˆå¯¹å°ä¼™ä¼´è‚¯å®šä¹Ÿä¼šç–‘æƒ‘ï¼Œé‚£æˆ‘è¦è·å–<code>dom</code>æ€ä¹ˆåŠï¼Œè¿™ä¸ª<code>Vue3</code>ä¹Ÿæœ‰çš„ï¼Œæ”¾å®½å¿ƒï¼Œå¬ç¬”è€…ç»§ç»­å¨“å¨“é“æ¥ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">'home'</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token string">&quot;dom&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> dom <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dom<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            dom
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>ä»ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œç°åœ¨è¿™ç§è®¿é—®<code>dom</code>çš„æ–¹å¼å’Œä¹‹å‰åŒºåˆ«åœ¨äºï¼Œæˆ‘ä»¬éœ€è¦æ˜¾ç¤ºè®¾å®šä¸€ä¸ªå“åº”æ€§å˜é‡ï¼Œç„¶åå†åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ä¹‹å‰æˆ‘ä»¬è€³ç†Ÿèƒ½è¯¦çš„æ–¹å¼<code>ref='xxx'</code>æ¥è¿›è¡Œè®¾å®šã€‚</p> <h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="header-anchor">#</a> ç»“å°¾</h2> <p>å¬å®Œç¬”è€…çš„å™è¿°ï¼Œä½ æœ‰æ²¡æœ‰å¯¹<code>Vue3</code>æœ‰ä¸€ç§è·ƒè·ƒæ¬²è¯•çš„æƒ³æ³•å‘¢ğŸ˜œã€‚</p> <p>å¦‚æœ‰å‘ç°ç¬”è€…è¡¨è¿°ä¸å½“çš„åœ°æ–¹ï¼Œè¯·åœ¨è¯„è®ºåŒºæˆ³ç¬”è€…å“¦ï¼Œæ„Ÿæ¿€ä¸å°½ğŸ˜ã€‚</p></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/STDSuperman/docs/edit/master/docs/technology/01.Vue/01.Vue3-beta-åˆä½“éªŒ.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2021/02/24, 15:02:00</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/pages/cae655/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Vue-nextTickæºç åˆ†æ</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/cae655/">Vue-nextTickæºç åˆ†æ</a>â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/112da8/"><div>21å¹´é¢è¯•é¢˜å†…å®¹æ±‡æ€»</div></a> <span>05-12</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/c49537/"><div>Module Federation</div></a> <span>05-12</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/4ebffb/"><div>ä»£åŠè®¡åˆ’</div></a> <span>02-25</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div> </main></div> <div class="footer"><div class="icons"><a href="mailto:2750556766@qq.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/STDSuperman" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=715216293" title="å¬éŸ³ä¹" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2020-2021
    <span>STDSuperman | <a href="https://github.com/STDSuperman/docs/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">è·Ÿéšç³»ç»Ÿ</li><li class="iconfont icon-rijianmoshi">æµ…è‰²æ¨¡å¼</li><li class="iconfont icon-yejianmoshi">æ·±è‰²æ¨¡å¼</li><li class="iconfont icon-yuedu">é˜…è¯»æ¨¡å¼</li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div></div><div class="global-ui"><div class="cat-container" data-v-a13867c0><canvas id="vuepress-cat" width="280" height="250" class="live2d" data-v-a13867c0></canvas></div></div></div>
    <script src="/assets/js/app.e2bd221e.js" defer></script><script src="/assets/js/2.5f85e95c.js" defer></script><script src="/assets/js/11.f913294b.js" defer></script>
  </body>
</html>