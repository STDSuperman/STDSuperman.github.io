(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{434:function(t,s,a){"use strict";a.r(s);var n=a(27),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h4",{attrs:{id:"concatall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#concatall"}},[t._v("#")]),t._v(" concatAll")]),t._v(" "),a("p",[t._v("定义：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("public concatAll(): Observable")])])]),t._v(" "),a("p",[t._v("顾名思义，该操作符有点像我们"),a("code",[t._v("js")]),t._v("中数组方法"),a("code",[t._v("concat")]),t._v("，用于将多个"),a("code",[t._v("Observable")]),t._v("合成一个，不过它有个注意点在于它是串行的，也就是合并了两个"),a("code",[t._v("Observable")]),t._v("，那订阅者在获取值的时候会先获取完第一个"),a("code",[t._v("Observable")]),t._v("，之后才开始接收到后一个"),a("code",[t._v("Observable")]),t._v("的值。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgchr.com/i/r5TQgK",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://s3.ax1x.com/2020/12/27/r5TQgK.png",alt:"concatAll.png"}}),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" source1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Rx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("of")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" source2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" source1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" Rx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("interval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("take")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" source2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("concatAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nresult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("根据上面的文字介绍，相信大家对于这段代码应该也能多少看得懂一些，没错，这段代码的含义就是我们的数据源发送了两个数，并且采用"),a("code",[t._v("map")]),t._v("操作符处理完返回了一个新的"),a("code",[t._v("Observable")]),t._v("，这个时候为了订阅者能够正常的接收多个"),a("code",[t._v("Observable")]),t._v("，则采用"),a("code",[t._v("concatAll")]),t._v("合并一下，并且最终订阅者收到的结果依次为：0、1、2、0、1、2。")]),t._v(" "),a("h4",{attrs:{id:"mergeall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mergeall"}},[t._v("#")]),t._v(" mergeAll")]),t._v(" "),a("p",[t._v("定义：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("public mergeAll(concurrent: number): Observable")])])]),t._v(" "),a("p",[t._v("与"),a("code",[t._v("concatAll")]),t._v("几乎没太大差别，唯一不同的就是它是并行的，也就是合并的多个"),a("code",[t._v("Observable")]),t._v("发送数据时是不分先后的。")]),t._v(" "),a("h4",{attrs:{id:"combinelatest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#combinelatest"}},[t._v("#")]),t._v(" combineLatest")]),t._v(" "),a("p",[t._v("定义：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("public combineLatest(other: ObservableInput, project: function): Observable")])])]),t._v(" "),a("p",[t._v("组合多个 "),a("code",[t._v("Observables")]),t._v(" 来创建一个 "),a("code",[t._v("Observable")]),t._v(" ，该 "),a("code",[t._v("Observable")]),t._v(" 的值根据每个输入 "),a("code",[t._v("Observable")]),t._v(" 的最新值计算得出的。")]),t._v(" "),a("p",[t._v("这个操作符光从简介来看不太好理解，我们来结合实例进行讲解吧。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgchr.com/i/rIlvNT",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://s3.ax1x.com/2020/12/27/rIlvNT.png",alt:"combineLatest.png"}}),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" s1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Rx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("interval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("take")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" s2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Rx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("interval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("take")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("combineLatest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nresult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("打印结果依次是：0、1、2、3、4、5、6。")]),t._v(" "),a("p",[t._v("首先我们看这个"),a("code",[t._v("combineLatest")]),t._v("的使用方式，它是一个实例操作符，这里演示的是将"),a("code",[t._v("s1")]),t._v("与"),a("code",[t._v("s2")]),t._v("结合到一起，并且第二个参数需要传入回调，对结合的值进行处理，由于我们这里只结合了两个，故只接收"),a("code",[t._v("a")]),t._v("、"),a("code",[t._v("b")]),t._v("两个参数，该回调函数的返回值即为订阅者获取到的值。")]),t._v(" "),a("p",[t._v("从结果看其实也看不出来啥，主要是这个过程如下：")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("s2")]),t._v("发送一个0，而此时"),a("code",[t._v("s1")]),t._v("未发送值，则我们传入的回调不会执行，订阅者也不会接收到值。")]),t._v(" "),a("li",[a("code",[t._v("s1")]),t._v("发送一个0，而"),a("code",[t._v("s2")]),t._v("最后一次发送的值为0，故调用回调函数，并把这两个参数传入，最终订阅者收到")]),t._v(" "),a("li",[a("code",[t._v("s2")]),t._v("发送一个1，而"),a("code",[t._v("s1")]),t._v("最后一次发送的为0，故结果为1。")]),t._v(" "),a("li",[a("code",[t._v("s1")]),t._v("发送一个1，而"),a("code",[t._v("s2")]),t._v("最后一次发送的值为1，故结果为2。")]),t._v(" "),a("li",[a("code",[t._v("s2")]),t._v("发送一个值为2，而"),a("code",[t._v("s1")]),t._v("最后一次发送的值为1，故结果为3。")]),t._v(" "),a("li",[a("code",[t._v("s2")]),t._v("发送一个值为3，而"),a("code",[t._v("s1")]),t._v("最后一次发送的值为1，故结果为4。")]),t._v(" "),a("li",[t._v("...重复上述步骤。")])]),t._v(" "),a("blockquote",[a("p",[t._v("这里有个注意点，我们会发现"),a("code",[t._v("s1")]),t._v("、"),a("code",[t._v("s2")]),t._v("在某些时候会同时发送数据，但是这个也会有先后顺序的，所以这个时候就看他们谁先定义那么谁就会先发送，从上面步骤中你们应该也能发现这个现象。")])]),t._v(" "),a("p",[t._v("其实也就是结合的多个源之间存在一种依赖关系，也就是两个源都至少发送了一个值，订阅者才会收到消息，等到两个源都发送完毕，最后才会发出结束信号。")]),t._v(" "),a("h4",{attrs:{id:"zip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zip"}},[t._v("#")]),t._v(" zip")]),t._v(" "),a("p",[t._v("定义：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("public static zip(observables: *): Observable<R>")])])]),t._v(" "),a("p",[t._v("将多个 "),a("code",[t._v("Observable")]),t._v(" 组合以创建一个 "),a("code",[t._v("Observable")]),t._v("，该 "),a("code",[t._v("Observable")]),t._v(" 的值是由所有输入 "),a("code",[t._v("Observables")]),t._v(" 的值按顺序计算而来的。如果最后一个参数是函数, 这个函数被用来计算最终发出的值.否则, 返回一个顺序包含所有输入值的数组.")]),t._v(" "),a("p",[t._v("通俗点说就是多个源之间会进行顺位对齐计算，跟前面的"),a("code",[t._v("combineLatest")]),t._v("有点差别。")]),t._v(" "),a("p",[t._v("话不多说，上码：")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgchr.com/i/rI3noV",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://s3.ax1x.com/2020/12/27/rI3noV.png",alt:"zip.png"}}),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" s1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Rx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("interval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("take")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" s2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Rx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("interval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("take")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("zip")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nresult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("打印结果依次是：0、2、4。")]),t._v(" "),a("p",[t._v("怎么理解呢，首先我们记住一句话，多个源之间用来计算的数是顺位对齐的，也就是说"),a("code",[t._v("s1")]),t._v("的第一个数对齐"),a("code",[t._v("s2")]),t._v("的第一个数，这种一一对应的计算，最终订阅者收到的就是将多个对齐的数传入我们在调用"),a("code",[t._v("zip")]),t._v("的最后一个回调函数，也就是用来计算完值最终返回给用户的结果，这是可选的。")]),t._v(" "),a("p",[t._v("等到两个源中的任意一个源结束了之后，整体就会发出结束信号，因为后续不存在可以对齐的数了。")]),t._v(" "),a("h4",{attrs:{id:"startwidth"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#startwidth"}},[t._v("#")]),t._v(" startWidth")]),t._v(" "),a("p",[t._v("定义：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("public startWith(values: ...T, scheduler: Scheduler): Observable")])])]),t._v(" "),a("p",[t._v("返回的 "),a("code",[t._v("Observable")]),t._v(" 会先发出作为参数指定的项，然后再发出由源 "),a("code",[t._v("Observable")]),t._v(" 所发出的项。")]),t._v(" "),a("p",[t._v("怎么理解呢，其实很好举例，比如有一串糖葫芦，整体都是一个颜色，你觉得不好看，于是你在这串糖葫芦的前面插了几个颜色不一样的糖葫芦，这个时候用户吃的时候就会先吃到你插在最前面的糖葫芦。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" source "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Rx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("interval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("take")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" source"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("startWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("666")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("打印结果为：666、0、1、2。")]),t._v(" "),a("p",[t._v("是不是很好理解呢。")]),t._v(" "),a("h4",{attrs:{id:"switch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#switch"}},[t._v("#")]),t._v(" switch")]),t._v(" "),a("p",[t._v("定义：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("public switch(): Observable<T>")])])]),t._v(" "),a("p",[t._v("通过只订阅最新发出的内部 "),a("code",[t._v("Observable")]),t._v(" ，将高阶 "),a("code",[t._v("Observable")]),t._v(" 转换成一阶 "),a("code",[t._v("Observable")]),t._v(" 。")]),t._v(" "),a("p",[t._v("对于该操作符的用法其实前面我们在介绍"),a("code",[t._v("switchMap")]),t._v("这个转换操作符时就已经说到了，相当于"),a("code",[t._v("map")]),t._v("+"),a("code",[t._v("switch")]),t._v("="),a("code",[t._v("switchMap")]),t._v("。")]),t._v(" "),a("p",[t._v("举个栗子：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" btn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'button'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbtn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerText "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'我要发言！'")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("btn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" source "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Rx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("btn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" source2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" source"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" Rx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("interval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("take")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" source2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("switch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nresult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("上述代码实现的效果与"),a("code",[t._v("switchMap")]),t._v("一致，当用户点击按钮时会开始发送数据，当这次数据发送未完成时，再次点击按钮，则会开始一个新的发射数据流程，将原先的发射数据流程直接抛弃。")]),t._v(" "),a("h4",{attrs:{id:"其他组合操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他组合操作符"}},[t._v("#")]),t._v(" 其他组合操作符")]),t._v(" "),a("p",[t._v("官网传送门："),a("a",{attrs:{href:"https://cn.rx.js.org/manual/overview.html#h312",target:"_blank",rel:"noopener noreferrer"}},[t._v("组合操作符"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("combineAll")])]),t._v(" "),a("li",[a("code",[t._v("concat")])]),t._v(" "),a("li",[a("code",[t._v("exhaust")])]),t._v(" "),a("li",[a("code",[t._v("forkJoin")])]),t._v(" "),a("li",[a("code",[t._v("merge")])]),t._v(" "),a("li",[a("code",[t._v("race")])]),t._v(" "),a("li",[a("code",[t._v("withLatestFrom")])]),t._v(" "),a("li",[a("code",[t._v("zipAll")])])]),t._v(" "),a("h3",{attrs:{id:"多播操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多播操作符"}},[t._v("#")]),t._v(" 多播操作符")]),t._v(" "),a("p",[t._v("官网传送门："),a("a",{attrs:{href:"https://cn.rx.js.org/manual/overview.html#h313",target:"_blank",rel:"noopener noreferrer"}},[t._v("多播操作符"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("cache")])]),t._v(" "),a("li",[a("code",[t._v("multicast")])]),t._v(" "),a("li",[a("code",[t._v("publish")])]),t._v(" "),a("li",[a("code",[t._v("publishBehavior")])]),t._v(" "),a("li",[a("code",[t._v("publishLast")])]),t._v(" "),a("li",[a("code",[t._v("publishReplay")])]),t._v(" "),a("li",[a("code",[t._v("share")])])]),t._v(" "),a("p",[t._v("待完善...")]),t._v(" "),a("h3",{attrs:{id:"错误处理操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#错误处理操作符"}},[t._v("#")]),t._v(" 错误处理操作符")]),t._v(" "),a("p",[t._v("官网传送门："),a("a",{attrs:{href:"https://cn.rx.js.org/manual/overview.html#h314",target:"_blank",rel:"noopener noreferrer"}},[t._v("错误处理操作符"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("catch")])]),t._v(" "),a("li",[a("code",[t._v("retry")])]),t._v(" "),a("li",[a("code",[t._v("retryWhen")])])]),t._v(" "),a("p",[t._v("待完善...")]),t._v(" "),a("h3",{attrs:{id:"工具操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工具操作符"}},[t._v("#")]),t._v(" 工具操作符")]),t._v(" "),a("p",[t._v("官网传送门："),a("a",{attrs:{href:"https://cn.rx.js.org/manual/overview.html#h315",target:"_blank",rel:"noopener noreferrer"}},[t._v("工具操作符"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("do")])]),t._v(" "),a("li",[a("code",[t._v("delay")])]),t._v(" "),a("li",[a("code",[t._v("delayWhen")])]),t._v(" "),a("li",[a("code",[t._v("dematerialize")])]),t._v(" "),a("li",[a("code",[t._v("finally")])]),t._v(" "),a("li",[a("code",[t._v("let")])]),t._v(" "),a("li",[a("code",[t._v("materialize")])]),t._v(" "),a("li",[a("code",[t._v("observeOn")])]),t._v(" "),a("li",[a("code",[t._v("subscribeOn")])]),t._v(" "),a("li",[a("code",[t._v("timeInterval")])]),t._v(" "),a("li",[a("code",[t._v("timestamp")])]),t._v(" "),a("li",[a("code",[t._v("timeout")])]),t._v(" "),a("li",[a("code",[t._v("timeoutWith")])]),t._v(" "),a("li",[a("code",[t._v("toArray")])]),t._v(" "),a("li",[a("code",[t._v("toPromise")])])]),t._v(" "),a("p",[t._v("待完善...")]),t._v(" "),a("h3",{attrs:{id:"条件和布尔操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#条件和布尔操作符"}},[t._v("#")]),t._v(" 条件和布尔操作符")]),t._v(" "),a("p",[t._v("官网传送门："),a("a",{attrs:{href:"https://cn.rx.js.org/manual/overview.html#h316",target:"_blank",rel:"noopener noreferrer"}},[t._v("条件和布尔操作符"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("defaultIfEmpty")])]),t._v(" "),a("li",[a("code",[t._v("every")])]),t._v(" "),a("li",[a("code",[t._v("find")])]),t._v(" "),a("li",[a("code",[t._v("findIndex")])]),t._v(" "),a("li",[a("code",[t._v("isEmpty")])])]),t._v(" "),a("p",[t._v("待完善...")]),t._v(" "),a("h3",{attrs:{id:"数学和聚合操作符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数学和聚合操作符"}},[t._v("#")]),t._v(" 数学和聚合操作符")]),t._v(" "),a("p",[t._v("官网传送门："),a("a",{attrs:{href:"https://cn.rx.js.org/manual/overview.html#h317",target:"_blank",rel:"noopener noreferrer"}},[t._v("数学和聚合操作符"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("code",[t._v("count")])]),t._v(" "),a("li",[a("code",[t._v("max")])]),t._v(" "),a("li",[a("code",[t._v("min")])]),t._v(" "),a("li",[a("code",[t._v("reduce")])])]),t._v(" "),a("p",[t._v("待完善...")])])}),[],!1,null,null,null);s.default=e.exports}}]);